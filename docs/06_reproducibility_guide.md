t tag:

**v0.3-summary-enhancement**

All schema structure, analytical views, and curated data referenced in this guide reflect this specific tagged release.

To reproduce the exact version:

```bash
git clone https://github.com/sdukda/autoimmune-somatic-variant_db.git
cd autoimmune-somatic-variant_db
git checkout v0.3-summary-enhancement
3. System Requirements
Core Software
MySQL 8.0+

PHP 8+

Git

Web server (Apache, Nginx, or PHP built-in server)

Optional (Development)
Sequel Ace / MySQL Workbench

VS Code / Vim / Nano

Lucidchart (for ER diagrams)

4. Repository Structure
arduino
Copy code
autoimmune_db/
├── docs/
├── sql/
│   ├── migrations/
│   ├── seeds/
│   └── migrations_archive/
├── ui/
│   ├── public/
│   └── config/
└── README.md
Important Clarification
The repository does not use file-based staging folders.

Instead:

Staging tables exist inside MySQL (e.g., stg_literature_driver_variants)

Snapshot tables exist inside MySQL (e.g., literature_driver_variants_v1_snapshot)

Curated CSV files are version-controlled under sql/seeds/

5. Database Reconstruction Procedure
Step 1 — Create Database
sql
Copy code
CREATE DATABASE autoimmune_db
  CHARACTER SET utf8mb4
    COLLATE utf8mb4_unicode_ci;
    Step 2 — Apply Schema Migrations
    Run all migration files in numeric order:

    bash
    Copy code
    mysql -u root -p autoimmune_db < sql/migrations/001_create_all_tables.sql
    ...
    mysql -u root -p autoimmune_db < sql/migrations/053_update_v_literature_summary_by_variant_coords_add_id.sql
    Migrations define:

    Core entity tables (gene, disease, study, variant, cell_type)

    Foreign keys and referential constraints

    Indexes and unique keys

    Analytical views (e.g., v_literature_variants_flat)

    Snapshot preservation logic

    Step 3 — Load Seed Data
    bash
    Copy code
    mysql -u root -p autoimmune_db < sql/seeds/001_seed_core_lookups.sql
    ...
    mysql -u root -p autoimmune_db < sql/seeds/021_stage_literature_data.sql
    Seed data includes:

    Reference genomes

    Disease ontology identifiers (DOID)

    Cell ontology identifiers (CL)

    Literature-curated somatic driver variants

    Evidence classifications

    6. Application Layer Configuration
    Create:

    lua
    Copy code
    ui/config/db.local.php
    Set local credentials:

    php
    Copy code
    return [
      'host' => '127.0.0.1',
        'dbname' => 'autoimmune_db',
          'user' => 'root',
            'pass' => 'your_password'
            ];
            This file is ignored via .gitignore for security.

            7. Launching the Portal
            bash
            Copy code
            php -S 127.0.0.1:8080 -t ui/public
            Access:

            cpp
            Copy code
            http://127.0.0.1:8080
            8. Schema Architecture and ERD Alignment
            The database schema was developed using an Entity–Relationship Diagram (ERD) prior to physical implementation.

            The ERD served as the conceptual blueprint for relational schema construction and ensured normalization and referential integrity.



            Figure X. Entity–Relationship Diagram of the autoimmune_db schema (v0.3).

            The relational schema generated by executing the migration scripts at tag:

            v0.3-summary-enhancement

            is structurally identical to this ERD.

            9. Validation Checklist
            After setup, confirm:

            Variants Page
            Varia# 06 – Reproducibility Guide  
## Autoimmune Somatic Variant Database (autoimmune_db)

---

## 1. Purpose and Scope

This document provides complete technical instructions for reproducing the Autoimmune Somatic Variant Database Portal from source code and curated literature data.

It provides step-by-step instructions to:

- Recreate the schema  
- Load curated literature data  
- Build analytical views  
- Launch the PHP web interface  
- Validate that the system functions correctly  

This guide ensures that the database can be rebuilt independently using only:

- The public GitHub repository  
- MySQL (v8.0+)  
- PHP (v8+)  
- Ordered SQL migration scripts  

---

## 2. Reference Version

This document describes the system state corresponding to thents display correctly

Sorting works

Filtering works

CSV download works

Variant Detail Page
Evidence rows display

Protein changes visible

Genomic coordinates link to UCSC

PMID links to PubMed

Gene Page
Gene summary correct

Associated diseases correct

Disease Page
Disease ontology ID displayed

Linked studies correct

Study Page
Study metadata visible

Variant counts accurate

10. Data Provenance & Traceability
Every literature variant includes:

Study reference

Reference genome (paper-reported)

Lifted genomic coordinates

Disease mapping (DOID)

Cell ontology mapping (CL)

Driver interpretation

Evidence type

No variant exists without:

Study linkage

Disease context

Curation record

11. Version Control & Reproducibility Guarantees
Reproducibility is ensured by:

Ordered SQL migrations

Seed files tracked in Git

Snapshot tables preserving analysis state

Referential integrity constraints

No manual UI-based edits to core tables

The database can be rebuilt identically at any specific Git commit or tagged release.

12. Scientific Reproducibility Statement
This system is:

Literature-driven

Fully version-controlled

Ontology-mapped

Genome-build aware

Reconstructible from curated CSV source files

The database represents a reproducible computational research asset.

13. Contact & Maintenance
Maintainer:
James Cook University

Repository:
https://github.com/sdukda/autoimmune-somatic-variant_db


